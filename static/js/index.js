function addCls(e,t){hasCls(e,t)||(e.className+=" "+t)}function removeCls(e,t){e.className=e.className.replace(t,"").replace(/\s{2}/," ")}function hasCls(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=new RegExp("^"+t+"$|^"+t+"\\s+|\\s+"+t+"$|\\s+"+t+"\\s+");return n.test(e.className)}function switchNav(e){if(hasCls(switchTab[e],"curr"))return!1;for(var t=0,n=switchTab.length;n>t;t++)removeCls(switchTab[t],"curr"),removeCls(switchBody[t],"curr");addCls(switchTab[e],"curr"),addCls(switchBody[e],"curr")}function findParent(e,t){if(!document.querySelector(t))return!1;for(;!hasCls(e.parentNode,t.substr(1));)e=e.parentNode;return e.parentNode}function isBlank(e){return!/\S+/.test(e)}function xssCheck(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""}define(["jquery-1.11.3.min"],function(){var e={init:function(){this.render(),this.bind()},render:function(){this.add=document.querySelector(".add"),this.mainInner=document.querySelector(".main-inner")},bind:function(){var e=this;e.add,e.add.length,document.querySelectorAll(".add-wrapper");e.mainInner.addEventListener("click",function(e){if(hasCls(e.target,"add-resource")){for(var t=0,n=document.querySelectorAll(".add-wrapper").length;n>t;t++)if(hasCls(document.querySelectorAll(".add-wrapper").item(t),"add-wrapper-curr")){removeCls(document.querySelectorAll(".add-wrapper").item(t),"add-wrapper-curr");break}var r=findParent(e.target,".add-wrapper");addCls(r,"add-wrapper-curr"),e.preventDefault()}})}};e.init();var t={init:function(){this.render(),this.bind()},render:function(){this.addBtn=document.querySelectorAll(".btn-add"),this.cloneItem,this.mainList=document.querySelector("#mainList")},bind:function(){var e=this;this.mainList.addEventListener("click",function(t){var n=t.target;if(hasCls(n,"btn-add")){var r=findParent(n,".add-wrapper"),a=findParent(n,".add-box").querySelector(".input-add"),d=xssCheck(a.value).trim();if(isBlank(d))return a.setAttribute("placeholder","Please type in something or click close"),!1;var s=d.split(","),c=(findParent(n,".add-wrapper"),findParent(n,".operations"));for(i in s)isBlank(s[i])||(addedName=s[i].trim(),e.cloneItem=document.getElementsByClassName("resource-item")[0].cloneNode(!0),e.cloneItem.children[0].innerHTML=addedName,e.cloneItem.children[1].title="delete "+addedName,c.appendChild(e.cloneItem));a.value="",removeCls(r,"add-wrapper-curr")}},!1)}};t.init();var n={init:function(){this.render(),this.bind()},render:function(){this.close=document.getElementsByClassName("btn-close"),this.mainInner=document.querySelector(".main-inner")},bind:function(){var e=this;e.close.length;e.mainInner.addEventListener("click",function(e){var t=e.target;if(hasCls(t,"btn-close")){var n=findParent(t,".add-wrapper");removeCls(n,"add-wrapper-curr")}})}};n.init();var r={init:function(){this.render(),this.bind()},render:function(){this.del=document.querySelector(".delete-icon"),this.operations=document.querySelector(".operations"),this.mainList=document.querySelector("#mainList")},bind:function(){var e=this;e.operations.length;e.mainList.addEventListener("click",function(e){hasCls(e.target,"delete-icon")&&e.target.parentNode.parentNode.removeChild(e.target.parentNode)})}};r.init();var a=2;addCls(switchTab[a],"curr"),addCls(switchBody[a],"curr");var d={init:function(){this.render(),this.bind()},render:function(){this.btnAddAgent=document.querySelector("#btnAddAgent")},bind:function(){var e=this;e.btnAddAgent.addEventListener("click",function(t){var n=document.querySelector("#agentName"),r=xssCheck(n.value),i=document.querySelector("#agentId"),a=xssCheck(i.value),d=document.querySelectorAll(".list-item").item(1).cloneNode(!0),s=document.querySelector("#mainList");if(!isBlank(r)&&!isBlank(a)){d.querySelector(".agent-name").innerHTML=r,d.querySelector(".agent-id").innerHTML=a;for(var c=d.querySelector(".resource-item"),o=d.querySelectorAll(".resource-item"),l=o.length;l>0;l--)c.parentNode.removeChild(o[l-1]);s.appendChild(d),n.value="",i.value="";var u=findParent(e.btnAddAgent,".add-wrapper");removeCls(u,"add-wrapper-curr");var m=document.querySelector("#countIdle").innerHTML;m++,document.querySelector("#countIdle").innerHTML=m}t.stopPropagation()})}};d.init();var s={init:function(){this.render(),this.bind()},render:function(){this.main=document.querySelector("#mainInner"),this.aside=document.querySelector("#aside")},bind:function(){this.main.offsetHeight<this.aside.offsetHeight&&(this.main.style.height=this.aside.offsetHeight+"px")}};s.init()});var switchTab=document.getElementsByClassName("switchTab"),switchBody=document.getElementsByClassName("switch-body");